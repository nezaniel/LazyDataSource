{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@neos-project/neos-ui-extensibility/dist/readFromConsumerApi.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/shims/vendor/react/index.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/shims/vendor/prop-types/index.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/shims/neosProjectPackages/react-ui-components/index.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/shims/neosProjectPackages/neos-ui-decorators/index.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/dist/registry/SynchronousRegistry.js","webpack:///./src/Editors/lazyDataSourceDataLoader.js","webpack:///./src/index.js","webpack:///./src/manifest.js","webpack:///./node_modules/hashlru/index.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/dist/index.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/dist/createConsumerApi.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/dist/manifest.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/dist/registry/index.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/dist/registry/AbstractRegistry.js","webpack:///./node_modules/@neos-project/positional-array-sorter/dist/positionalArraySorter.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/dist/registry/SynchronousMetaRegistry.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/shims/neosProjectPackages/neos-ui-backend-connector/index.js","webpack:///./src/Editors/DataSourceMultiSelectEditor.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/shims/vendor/plow-js/index.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/shims/neosProjectPackages/neos-ui-redux-store/index.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/shims/vendor/react-redux/index.js","webpack:///./src/Editors/DataSourceSelectEditor.js","webpack:///./src/Editors/PreviewOption.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","readFromConsumerApi","window","Error","React","PropTypes","ReactUiComponents","NeosUiDecorators","SynchronousRegistry","AbstractRegistry","constructor","description","super","this","_registry","set","position","entry","indexOfItemWithTheSameKey","findIndex","item","push","console","error","result","find","_getChildrenWrapped","searchKey","unsortedChildren","filter","indexOf","getChildrenAsObject","forEach","getChildren","map","has","Boolean","_getAllWrapped","getAllAsObject","getAllAsList","assign","id","isMulti","WrappedComponent","neos","globalRegistry","lazyDataSourceDataLoader","connect","$transform","focusedNodePath","selectors","CR","Nodes","focusedNodePathSelector","LazyDataSourceDataLoader","PureComponent","state","isLoading","options","searchOptions","results","resolveValue","Array","isArray","props","setState","resolveValues","getDataLoaderOptions","then","handleSearchTermChange","searchTerm","search","componentDidMount","componentDidUpdate","prevProps","contextNodePath","dataSourceIdentifier","dataSourceUri","dataSourceAdditionalData","dataSourceDisableCaching","dataSourceMakeNodeIndependent","render","displayLoadingIndicator","onSearchTermChange","placeholder","threshold","propTypes","oneOfType","string","arrayOf","shape","bool","objectOf","any","func","isRequired","require","makeCacheKey","prefix","params","JSON","parse","stringify","frontendConfiguration","editorsRegistry","component","DataSourceSelectEditor","DataSourceMultiSelectEditor","_lru","_lruCache","HLRU","identifier","identifiers","resultPromisesByIdentifier","identifiersNotInCache","cacheKey","length","node","dataSourceApi","backend","endpoints","dataSource","keys","resultPromise","Promise","resolve","all","promise","_debounceTimer","clearTimeout","setTimeout","searchQuery","max","size","cache","_cache","update","undefined","remove","v","clear","createConsumerApi","SynchronousMetaRegistry","manifests","exposureMap","api","createReadOnlyValue","writable","configurable","bootstrap","SERIAL_VERSION_UID","positionalArraySorter","subject","idKey","positionAccessor","indexMapping","middleKeys","startKeys","endKeys","beforeKeys","afterKeys","index","String","positionValue","invalid","startsWith","weightMatch","match","weight","Number","reference","numberPosition","parseFloat","isNaN","isFinite","resultStart","resultMiddle","resultEnd","processedKeys","sortedWeights","dict","asc","weights","x","sort","a","b","reverse","addToResults","beforeWeights","afterWeights","sortedKeys","NeosUiBackendConnectorDefault","fetchWithErrorHandling","NeosUiBackendConnector","dndTypes","i18nRegistry","handleValueChange","commit","className","disabled","onCreateNew","MultiSelectBox","dndType","loadingLabel","translate","displaySearchBox","noMatchesFoundLabel","searchBoxLeftToTypeLabel","values","onValuesChange","showDropDownToggle","allowEmpty","array","number","plow","NeosUiReduxStore","reactRedux","SelectBox","onValueChange","ListPreviewElement","PreviewOption","option","SelectBox_Option_MultiLineWithThumbnail","imageUri","preview","icon","label","secondaryLabel","tertiaryLabel"],"mappings":"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","file":"Plugin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n","export default function readFromConsumerApi(key) {\n    return (...args) => {\n        if (window['@Neos:HostPluginAPI'] && window['@Neos:HostPluginAPI'][`@${key}`]) {\n            return window['@Neos:HostPluginAPI'][`@${key}`](...args);\n        }\n        throw new Error('You are trying to read from a consumer api that hasn\\'t been initialized yet!');\n    };\n}\n//# sourceMappingURL=readFromConsumerApi.js.map","import readFromConsumerApi from '../../../../dist/readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('vendor')().React;\n","import readFromConsumerApi from '../../../../dist/readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('vendor')().PropTypes;\n","import readFromConsumerApi from '../../../../dist/readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('NeosProjectPackages')().ReactUiComponents;\n","import readFromConsumerApi from '../../../../dist/readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('NeosProjectPackages')().NeosUiDecorators;\n","import AbstractRegistry from './AbstractRegistry';\nimport positionalArraySorter from '@neos-project/positional-array-sorter';\nexport default class SynchronousRegistry extends AbstractRegistry {\n    constructor(description) {\n        super(description);\n        this._registry = [];\n    }\n    set(key, value, position = 0) {\n        if (typeof key !== 'string') {\n            throw new Error('Key must be a string');\n        }\n        if (typeof position !== 'string' && typeof position !== 'number') {\n            throw new Error('Position must be a string or a number');\n        }\n        const entry = { key, value };\n        if (position) {\n            entry.position = position;\n        }\n        const indexOfItemWithTheSameKey = this._registry.findIndex(item => item.key === key);\n        if (indexOfItemWithTheSameKey === -1) {\n            this._registry.push(entry);\n        }\n        else {\n            this._registry[indexOfItemWithTheSameKey] = entry;\n        }\n        return value;\n    }\n    get(key) {\n        if (typeof key !== 'string') {\n            console.error('Key must be a string');\n            return null;\n        }\n        const result = this._registry.find(item => item.key === key);\n        return result ? result.value : null;\n    }\n    _getChildrenWrapped(searchKey) {\n        const unsortedChildren = this._registry.filter(item => item.key.indexOf(searchKey + '/') === 0);\n        return positionalArraySorter(unsortedChildren);\n    }\n    getChildrenAsObject(searchKey) {\n        const result = {};\n        this._getChildrenWrapped(searchKey).forEach(item => {\n            result[item.key] = item.value;\n        });\n        return result;\n    }\n    getChildren(searchKey) {\n        return this._getChildrenWrapped(searchKey).map(item => item.value);\n    }\n    has(key) {\n        if (typeof key !== 'string') {\n            console.error('Key must be a string');\n            return false;\n        }\n        return Boolean(this._registry.find(item => item.key === key));\n    }\n    _getAllWrapped() {\n        return positionalArraySorter(this._registry);\n    }\n    getAllAsObject() {\n        const result = {};\n        this._getAllWrapped().forEach(item => {\n            result[item.key] = item.value;\n        });\n        return result;\n    }\n    getAllAsList() {\n        return this._getAllWrapped().map(item => Object.assign({ id: item.key }, item.value));\n    }\n}\n//# sourceMappingURL=SynchronousRegistry.js.map","import React, {PureComponent} from 'react';\nimport PropTypes from 'prop-types';\nimport {$get, $transform} from 'plow-js';\nimport {neos} from '@neos-project/neos-ui-decorators';\nimport {selectors} from '@neos-project/neos-ui-redux-store';\nimport {connect} from 'react-redux';\n\nexport default ({isMulti}) => WrappedComponent => {\n    @neos(globalRegistry => ({\n        lazyDataSourceDataLoader: globalRegistry.get('dataLoaders').get('SandstormLazyDataSourceLoader')\n    }))\n    @connect($transform({\n        focusedNodePath: selectors.CR.Nodes.focusedNodePathSelector\n    }))\n    class LazyDataSourceDataLoader extends PureComponent {\n        static propTypes = {\n            value: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n            options: PropTypes.shape({\n                dataSourceIdentifier: PropTypes.string,\n                dataSourceUri: PropTypes.string,\n                dataSourceDisableCaching: PropTypes.bool,\n                dataSourceAdditionalData: PropTypes.objectOf(PropTypes.any),\n\n                // If dataSourceMakeNodeIndependent is TRUE, the dataLoader is not transmitting the currently selected node\n                // to the backend; increasing the cache lifetime for the dataloaders in the client (e.g. the system can re-use\n                // elements from other nodes)\n                dataSourceMakeNodeIndependent: PropTypes.bool,\n            }),\n\n            lazyDataSourceDataLoader: PropTypes.shape({\n                resolveValue: PropTypes.func.isRequired,\n                resolveValues: PropTypes.func.isRequired,\n                search: PropTypes.func.isRequired\n            }).isRequired,\n            focusedNodePath: PropTypes.string,\n        };\n\n        state = {\n            isLoading: false,\n            options: [],\n            searchOptions: [],\n            results: []\n        };\n\n        componentDidMount() {\n            this.resolveValue();\n        }\n\n        componentDidUpdate(prevProps) {\n            if (prevProps.value !== this.props.value) {\n                this.resolveValue();\n            }\n        }\n\n        resolveValue = () => {\n            const valueProvided = isMulti ? Array.isArray(this.props.value) : this.props.value;\n            if (valueProvided) {\n                this.setState({isLoading: true});\n                const resolver = isMulti ? this.props.lazyDataSourceDataLoader.resolveValues.bind(this.props.lazyDataSourceDataLoader) : this.props.lazyDataSourceDataLoader.resolveValue.bind(this.props.lazyDataSourceDataLoader);\n                resolver(this.getDataLoaderOptions(), this.props.value)\n                    .then(options => {\n                        this.setState({\n                            isLoading: false,\n                            options\n                        });\n                    });\n            }\n        }\n\n        handleSearchTermChange = searchTerm => {\n            if (searchTerm) {\n                this.setState({isLoading: true, searchOptions: []});\n                this.props.lazyDataSourceDataLoader.search(this.getDataLoaderOptions(), searchTerm)\n                    .then(searchOptions => {\n                        this.setState({\n                            isLoading: false,\n                            searchOptions\n                        });\n                    });\n            } else {\n                this.setState({\n                    isLoading: false,\n                    searchOptions: []\n                });\n            }\n        }\n\n        getDataLoaderOptions() {\n            return {\n                contextNodePath: this.props.focusedNodePath,\n                dataSourceIdentifier: this.props.options.dataSourceIdentifier,\n                dataSourceUri: this.props.options.dataSourceUri,\n                dataSourceAdditionalData: this.props.options.dataSourceAdditionalData,\n                dataSourceDisableCaching: Boolean(this.props.options.dataSourceDisableCaching),\n                dataSourceMakeNodeIndependent: Boolean(this.props.options.dataSourceMakeNodeIndependent)\n            };\n        }\n\n        render() {\n            const props = Object.assign({}, this.props, this.state);\n            const options = isMulti ? this.state.options : (this.props.value ? this.state.options : this.state.searchOptions);\n            return (\n                <WrappedComponent\n                    {...props}\n                    options={options}\n                    searchOptions={this.state.searchOptions}\n                    displayLoadingIndicator={this.state.isLoading}\n                    onSearchTermChange={this.handleSearchTermChange}\n                    placeholder={this.props.options.placeholder}\n                    threshold={this.props.options.threshold}\n                    />\n            );\n        }\n    }\n    return LazyDataSourceDataLoader;\n};\n","require('./manifest');\n","import HLRU from 'hashlru';\nimport manifest from '@neos-project/neos-ui-extensibility';\nimport backend from '@neos-project/neos-ui-backend-connector';\nimport DataSourceMultiSelectEditor from './Editors/DataSourceMultiSelectEditor';\nimport DataSourceSelectEditor from './Editors/DataSourceSelectEditor';\n\n\nfunction makeCacheKey(prefix, params) {\n    if (params.options && params.options.dataSourceMakeNodeIndependent) {\n        // if dataSourceMakeNodeIndependent, remove contextNodePath from the cache key.\n        params = JSON.parse(JSON.stringify(params)); // Deep copy\n        delete params.options.contextNodePath;\n    }\n    return prefix + JSON.stringify(params);\n}\n\nmanifest('Sandstorm.LazyDataSource:Plugin', {}, (globalRegistry, {frontendConfiguration}) => {\n\n    const editorsRegistry = globalRegistry.get('inspector').get('editors');\n\n    editorsRegistry.set('Sandstorm.LazyDataSource/Inspector/Editors/DataSourceSelectEditor', {\n        component: DataSourceSelectEditor\n    });\n\n    editorsRegistry.set('Sandstorm.LazyDataSource/Inspector/Editors/DataSourceMultiSelectEditor', {\n        component: DataSourceMultiSelectEditor\n    });\n\n\n    const dataLoadersRegistry = globalRegistry.get('dataLoaders');\n    dataLoadersRegistry.set('SandstormLazyDataSourceLoader', {\n        description: `\n            Look up Data Source values:\n\n            - by identifier (resolveValue())\n            - by searching in data source (search())\n\n            OPTIONS:\n            - contextNodePath: ...\n            - dataSourceIdentifier: The data source to load. Either this or dataSourceUri is required.\n            - dataSourceUri: The data source URL to load.\n            - dataSourceDisableCaching: Disable default _lru caching option.\n            - dataSourceAdditionalData: Additional data to send to the server\n\n            EXTRA OPTIONS:\n            - dataSourceMakeNodeIndependent: If set to TRUE, the dataLoader is not transmitting the currently selected node\n              to the backend; increasing the cache lifetime for the dataloaders in the client (e.g. the system can re-use\n              elements from other nodes)\n        `,\n\n        _lru() {\n            if (!this._lruCache) {\n                this._lruCache = new HLRU(500);\n            }\n            return this._lruCache;\n        },\n\n        resolveValue(options, identifier) {\n            return this.resolveValues(options, [identifier]);\n        },\n\n        // modelled as a combination of DataSources and NodeLookup data loaders. The rough\n        // structure is the NodeLookup data loader; but the querying part is the DataSources data loader.\n        resolveValues(options, identifiers) {\n            const resultPromisesByIdentifier = {};\n            const identifiersNotInCache = [];\n\n            identifiers.forEach(identifier => {\n                const cacheKey = makeCacheKey('resolve', {options, identifier});\n\n                if (this._lru().has(cacheKey)) {\n                    resultPromisesByIdentifier[identifier] = this._lru().get(cacheKey);\n                } else {\n                    identifiersNotInCache.push(identifier);\n                }\n            });\n\n            let result;\n            if (identifiersNotInCache.length > 0) {\n                // Build up query\n                const params = Object.assign(options.dataSourceMakeNodeIndependent ? {} : {node: options.contextNodePath}, options.dataSourceAdditionalData || {}, {\n                    identifiers: identifiersNotInCache\n                });\n                // Trigger query\n                const dataSourceApi = backend.get().endpoints.dataSource;\n                result = dataSourceApi(options.dataSourceIdentifier, options.dataSourceUri, params).then(results => {\n                    const resultsAsArray = Object.keys(results).map(identifier => ({\n                        ...(results[identifier]),\n                        value: identifier\n                    }));\n\n                    // We store the result in the cache\n                    resultsAsArray.forEach(result => {\n                        const cacheKey = makeCacheKey('resolve', {options, identifier: result.value});\n                        const resultPromise = Promise.resolve(result);\n                        if (!options.dataSourceDisableCaching) {\n                            this._lru().set(cacheKey, resultPromise);\n                        }\n                        resultPromisesByIdentifier[result.value] = resultPromise;\n                    });\n\n                    // By now, all identifiers are in cache.\n                    return Promise.all(\n                        identifiers.map(identifier =>\n                            resultPromisesByIdentifier[identifier]\n                        ).filter(promise => Boolean(promise)) // Remove \"null\" values\n                    );\n                });\n            } else {\n                // We know all identifiers are in cache.\n                result = Promise.all(\n                    identifiers.map(identifier =>\n                        resultPromisesByIdentifier[identifier]\n                    ).filter(promise => Boolean(promise)) // Remove \"null\" values\n                );\n            }\n\n            return result;\n        },\n\n        search(options, searchTerm) {\n            if (!searchTerm) {\n                return Promise.resolve([]);\n            }\n\n            const cacheKey = makeCacheKey('search', {options, searchTerm});\n            if (this._lru().has(cacheKey)) {\n                return this._lru().get(cacheKey);\n            }\n\n            // Debounce AJAX requests for 300 ms\n            return new Promise(resolve => {\n                if (this._debounceTimer) {\n                    window.clearTimeout(this._debounceTimer);\n                }\n                this._debounceTimer = window.setTimeout(resolve, 300);\n            }).then(() => {\n                // Build up query\n                const searchQuery = Object.assign(options.dataSourceMakeNodeIndependent ? {} : {node: options.contextNodePath}, options.dataSourceAdditionalData || {}, {\n                    searchTerm\n                });\n\n                // Trigger query\n                const dataSourceApi = backend.get().endpoints.dataSource;\n                const resultPromise = dataSourceApi(options.dataSourceIdentifier, options.dataSourceUri, searchQuery).then(results => {\n                    return Object.keys(results).map(identifier => ({\n                        ...(results[identifier]),\n                        value: identifier\n                    }));\n                });\n                if (!options.dataSourceDisableCaching) {\n                    this._lru().set(cacheKey, resultPromise);\n                }\n\n                // Next to storing the full result in the cache, we also store each individual result in the cache;\n                // in the same format as expected by resolveValue(); so that it is already loaded and does not need\n                // to be loaded once the element has been selected.\n                return resultPromise.then(results => {\n                    results.forEach(result => {\n                        const cacheKey = makeCacheKey('resolve', {options, identifier: result.value});\n                        if (!options.dataSourceDisableCaching) {\n                            this._lru().set(cacheKey, Promise.resolve(result));\n                        }\n                    });\n\n                    return results;\n                });\n            });\n        }\n    });\n});\n","module.exports = function (max) {\n\n  if (!max) throw Error('hashlru must have a max value, of type number, greater than 0')\n\n  var size = 0, cache = Object.create(null), _cache = Object.create(null)\n\n  function update (key, value) {\n    cache[key] = value\n    size ++\n    if(size >= max) {\n      size = 0\n      _cache = cache\n      cache = Object.create(null)\n    }\n  }\n\n  return {\n    has: function (key) {\n      return cache[key] !== undefined || _cache[key] !== undefined\n    },\n    remove: function (key) {\n      if(cache[key] !== undefined)\n        cache[key] = undefined\n      if(_cache[key] !== undefined)\n        _cache[key] = undefined\n    },\n    get: function (key) {\n      var v = cache[key]\n      if(v !== undefined) return v\n      if((v = _cache[key]) !== undefined) {\n        update(key, v)\n        return v\n      }\n    },\n    set: function (key, value) {\n      if(cache[key] !== undefined) cache[key] = value\n      else update(key, value)\n    },\n    clear: function () {\n      cache = Object.create(null)\n      _cache = Object.create(null)\n    }\n  }\n}\n\n\n\n\n\n\n\n","import createConsumerApi from './createConsumerApi';\nimport readFromConsumerApi from './readFromConsumerApi';\nimport { SynchronousRegistry, SynchronousMetaRegistry } from './registry/index';\nexport default readFromConsumerApi('manifest');\nexport { createConsumerApi, readFromConsumerApi, SynchronousRegistry, SynchronousMetaRegistry };\n//# sourceMappingURL=index.js.map","import createManifestFunction from './manifest';\nconst createReadOnlyValue = (value) => ({\n    value,\n    writable: false,\n    enumerable: false,\n    configurable: true\n});\nexport default function createConsumerApi(manifests, exposureMap) {\n    const api = {};\n    Object.keys(exposureMap).forEach(key => {\n        Object.defineProperty(api, key, createReadOnlyValue(exposureMap[key]));\n    });\n    Object.defineProperty(api, '@manifest', createReadOnlyValue(createManifestFunction(manifests)));\n    Object.defineProperty(window, '@Neos:HostPluginAPI', createReadOnlyValue(api));\n}\n//# sourceMappingURL=createConsumerApi.js.map","export default (manifests) => {\n    return (identifier, options, bootstrap) => {\n        manifests.push({\n            [identifier]: {\n                options,\n                bootstrap\n            }\n        });\n    };\n};\n//# sourceMappingURL=manifest.js.map","import SynchronousRegistry from './SynchronousRegistry';\nimport SynchronousMetaRegistry from './SynchronousMetaRegistry';\nexport { SynchronousRegistry, SynchronousMetaRegistry };\n//# sourceMappingURL=index.js.map","export default class AbstractRegistry {\n    constructor(description) {\n        this.SERIAL_VERSION_UID = 'd8a5aa78-978e-11e6-ae22-56b6b6499611';\n        this.description = description;\n    }\n}\n//# sourceMappingURL=AbstractRegistry.js.map","const positionalArraySorter = (subject, position = 'position', idKey = 'key') => {\n    const positionAccessor = typeof position === 'string' ? (value) => value[position] : position;\n    const indexMapping = {};\n    const middleKeys = {};\n    const startKeys = {};\n    const endKeys = {};\n    const beforeKeys = {};\n    const afterKeys = {};\n    subject.forEach((item, index) => {\n        const key = item[idKey] ? item[idKey] : String(index);\n        indexMapping[key] = index;\n        const positionValue = positionAccessor(item);\n        const position = String(positionValue ? positionValue : index);\n        let invalid = false;\n        if (position.startsWith('start')) {\n            const weightMatch = position.match(/start\\s+(\\d+)/);\n            const weight = weightMatch && weightMatch[1] ? Number(weightMatch[1]) : 0;\n            if (!startKeys[weight]) {\n                startKeys[weight] = [];\n            }\n            startKeys[weight].push(key);\n        }\n        else if (position.startsWith('end')) {\n            const weightMatch = position.match(/end\\s+(\\d+)/);\n            const weight = weightMatch && weightMatch[1] ? Number(weightMatch[1]) : 0;\n            if (!endKeys[weight]) {\n                endKeys[weight] = [];\n            }\n            endKeys[weight].push(key);\n        }\n        else if (position.startsWith('before')) {\n            const match = position.match(/before\\s+(\\S+)(\\s+(\\d+))?/);\n            if (!match) {\n                invalid = true;\n            }\n            else {\n                const reference = match[1];\n                const weight = match[3] ? Number(match[3]) : 0;\n                if (!beforeKeys[reference]) {\n                    beforeKeys[reference] = {};\n                }\n                if (!beforeKeys[reference][weight]) {\n                    beforeKeys[reference][weight] = [];\n                }\n                beforeKeys[reference][weight].push(key);\n            }\n        }\n        else if (position.startsWith('after')) {\n            const match = position.match(/after\\s+(\\S+)(\\s+(\\d+))?/);\n            if (!match) {\n                invalid = true;\n            }\n            else {\n                const reference = match[1];\n                const weight = match[3] ? Number(match[3]) : 0;\n                if (!afterKeys[reference]) {\n                    afterKeys[reference] = {};\n                }\n                if (!afterKeys[reference][weight]) {\n                    afterKeys[reference][weight] = [];\n                }\n                afterKeys[reference][weight].push(key);\n            }\n        }\n        else {\n            invalid = true;\n        }\n        if (invalid) {\n            let numberPosition = parseFloat(position);\n            if (isNaN(numberPosition) || !isFinite(numberPosition)) {\n                numberPosition = index;\n            }\n            if (!middleKeys[numberPosition]) {\n                middleKeys[numberPosition] = [];\n            }\n            middleKeys[numberPosition].push(key);\n        }\n    });\n    const resultStart = [];\n    const resultMiddle = [];\n    const resultEnd = [];\n    const processedKeys = [];\n    const sortedWeights = (dict, asc) => {\n        const weights = Object.keys(dict).map(x => Number(x)).sort((a, b) => a - b);\n        return asc ? weights : weights.reverse();\n    };\n    const addToResults = (keys, result) => {\n        keys.forEach(key => {\n            if (processedKeys.indexOf(key) >= 0) {\n                return;\n            }\n            processedKeys.push(key);\n            if (beforeKeys[key]) {\n                const beforeWeights = sortedWeights(beforeKeys[key], true);\n                for (const i of beforeWeights) {\n                    addToResults(beforeKeys[key][i], result);\n                }\n            }\n            result.push(key);\n            if (afterKeys[key]) {\n                const afterWeights = sortedWeights(afterKeys[key], false);\n                for (const i of afterWeights) {\n                    addToResults(afterKeys[key][i], result);\n                }\n            }\n        });\n    };\n    for (const i of sortedWeights(startKeys, false)) {\n        addToResults(startKeys[i], resultStart);\n    }\n    for (const i of sortedWeights(middleKeys, true)) {\n        addToResults(middleKeys[i], resultMiddle);\n    }\n    for (const i of sortedWeights(endKeys, true)) {\n        addToResults(endKeys[i], resultEnd);\n    }\n    for (const key of Object.keys(beforeKeys)) {\n        if (processedKeys.indexOf(key) >= 0) {\n            continue;\n        }\n        for (const i of sortedWeights(beforeKeys[key], false)) {\n            addToResults(beforeKeys[key][i], resultStart);\n        }\n    }\n    for (const key of Object.keys(afterKeys)) {\n        if (processedKeys.indexOf(key) >= 0) {\n            continue;\n        }\n        for (const i of sortedWeights(afterKeys[key], false)) {\n            addToResults(afterKeys[key][i], resultMiddle);\n        }\n    }\n    const sortedKeys = [...resultStart, ...resultMiddle, ...resultEnd];\n    return sortedKeys.map(key => indexMapping[key]).map(i => subject[i]);\n};\nexport default positionalArraySorter;\n//# sourceMappingURL=positionalArraySorter.js.map","import SynchronousRegistry from './SynchronousRegistry';\nexport default class SynchronousMetaRegistry extends SynchronousRegistry {\n    set(key, value) {\n        if (value.SERIAL_VERSION_UID !== 'd8a5aa78-978e-11e6-ae22-56b6b6499611') {\n            throw new Error('You can only add registries to a meta registry');\n        }\n        return super.set(key, value);\n    }\n}\n//# sourceMappingURL=SynchronousMetaRegistry.js.map","import readFromConsumerApi from '../../../../dist/readFromConsumerApi';\n\nexport default readFromConsumerApi('NeosProjectPackages')().NeosUiBackendConnectorDefault;\n\nconst {fetchWithErrorHandling} = readFromConsumerApi('NeosProjectPackages')().NeosUiBackendConnector;\nexport {fetchWithErrorHandling};\n","import React, {PureComponent} from 'react';\nimport PropTypes from 'prop-types';\nimport {MultiSelectBox} from '@neos-project/react-ui-components';\nimport dataLoader from './lazyDataSourceDataLoader';\nimport {neos} from '@neos-project/neos-ui-decorators';\n\n// COPIED FROM @neos-project/neos-ui-constants/src/dndTypes (as we do not expose this yet).\nconst dndTypes = {\n    NODE: 'neos-tree-node',\n    MULTISELECT: 'neos-multiselect-value'\n};\n\n@neos(globalRegistry => ({\n    i18nRegistry: globalRegistry.get('i18n')\n}))\n@dataLoader({isMulti: true})\nexport default class DataSourceMultiSelectEditor extends PureComponent {\n    static propTypes = {\n        value: PropTypes.arrayOf(PropTypes.string),\n        options: PropTypes.array,\n        searchOptions: PropTypes.array,\n        placeholder: PropTypes.string,\n        displayLoadingIndicator: PropTypes.bool,\n        threshold: PropTypes.number,\n        onSearchTermChange: PropTypes.func,\n        onCreateNew: PropTypes.func,\n        commit: PropTypes.func.isRequired,\n        i18nRegistry: PropTypes.object.isRequired,\n        disabled: PropTypes.bool\n    };\n\n    handleValueChange = value => {\n        this.props.commit(value);\n    }\n\n    render() {\n        const {className, i18nRegistry, threshold, placeholder, options, value, displayLoadingIndicator, searchOptions, onSearchTermChange, onCreateNew, disabled} = this.props;\n\n        return (<MultiSelectBox\n            className={className}\n            dndType={dndTypes.MULTISELECT}\n            loadingLabel={i18nRegistry.translate('Neos.Neos:Main:loading')}\n            displaySearchBox={true}\n            placeholder={i18nRegistry.translate(placeholder)}\n            threshold={threshold}\n            noMatchesFoundLabel={i18nRegistry.translate('Neos.Neos:Main:noMatchesFound')}\n            searchBoxLeftToTypeLabel={i18nRegistry.translate('Neos.Neos:Main:searchBoxLeftToType')}\n            options={options}\n            values={value}\n            onValuesChange={this.handleValueChange}\n            displayLoadingIndicator={displayLoadingIndicator}\n            showDropDownToggle={false}\n            allowEmpty={true}\n            searchOptions={searchOptions}\n            onSearchTermChange={onSearchTermChange}\n            disabled={disabled}\n            />);\n    }\n}\n","import readFromConsumerApi from '../../../../dist/readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('vendor')().plow;\n","import readFromConsumerApi from '../../../../dist/readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('NeosProjectPackages')().NeosUiReduxStore;\n","import readFromConsumerApi from '../../../../dist/readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('vendor')().reactRedux;\n","import React, {PureComponent} from 'react';\nimport PropTypes from 'prop-types';\nimport {SelectBox} from '@neos-project/react-ui-components';\nimport dataLoader from './lazyDataSourceDataLoader';\nimport PreviewOption from './PreviewOption';\nimport {neos} from '@neos-project/neos-ui-decorators';\n\n@neos(globalRegistry => ({\n    i18nRegistry: globalRegistry.get('i18n')\n}))\n@dataLoader({isMulti: false})\nexport default class DataSourceSelectEditor extends PureComponent {\n    static propTypes = {\n        value: PropTypes.string,\n        className: PropTypes.string,\n        options: PropTypes.array,\n        searchOptions: PropTypes.array,\n        placeholder: PropTypes.string,\n        displayLoadingIndicator: PropTypes.bool,\n        threshold: PropTypes.number,\n        onSearchTermChange: PropTypes.func,\n        commit: PropTypes.func.isRequired,\n        i18nRegistry: PropTypes.object.isRequired,\n        disabled: PropTypes.bool\n    };\n\n    handleValueChange = value => {\n        this.props.commit(value);\n    }\n\n    render() {\n        const {className, value, i18nRegistry, threshold, options, displayLoadingIndicator, onSearchTermChange, disabled} = this.props;\n\n        return (<SelectBox\n            className={className}\n            displaySearchBox={true}\n            noMatchesFoundLabel={i18nRegistry.translate('Neos.Neos:Main:noMatchesFound')}\n            searchBoxLeftToTypeLabel={i18nRegistry.translate('Neos.Neos:Main:searchBoxLeftToType')}\n            placeholder={i18nRegistry.translate(this.props.placeholder)}\n            threshold={threshold}\n            options={options}\n            value={value}\n            onValueChange={this.handleValueChange}\n            loadingLabel={i18nRegistry.translate('Neos.Neos:Main:loading')}\n            displayLoadingIndicator={displayLoadingIndicator}\n            showDropDownToggle={false}\n            allowEmpty={true}\n            onSearchTermChange={onSearchTermChange}\n            disabled={disabled}\n            ListPreviewElement={PreviewOption}\n            />);\n    }\n}\n","/* eslint-disable camelcase, react/jsx-pascal-case */\nimport React, {PureComponent} from 'react';\nimport PropTypes from 'prop-types';\n// eslint-disable-next-line camelcase\nimport { SelectBox_Option_MultiLineWithThumbnail } from \"@neos-project/react-ui-components\";\n\nexport default class PreviewOption extends PureComponent {\n    static propTypes = {\n        option: PropTypes.shape({\n            label: PropTypes.string.isRequired,\n            secondaryLabel: PropTypes.string,\n            tertiaryLabel: PropTypes.string,\n            icon: PropTypes.string,\n            preview: PropTypes.string\n        })\n    };\n\n    render() {\n        const {option} = this.props;\n\n        return (\n            <SelectBox_Option_MultiLineWithThumbnail {...this.props} imageUri={option.preview} icon={option.icon} label={option.label} secondaryLabel={option.secondaryLabel} tertiaryLabel={option.tertiaryLabel}/>\n        );\n    }\n}\n"],"sourceRoot":""}